<!DOCTYPE html>
<!-- 
创建者:摩太软件lanmosoft.com 创造一切可能
-->
<!--[if IE 8]> <html lang="zh" class="ie8 no-js" data-ng-app="MetronicApp"> <![endif]-->
<!--[if IE 9]> <html lang="zh" class="ie9 no-js" data-ng-app="MetronicApp"> <![endif]-->
<!--[if !IE]><!-->
<html lang="zh" data-ng-app="MetronicApp">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
<title data-ng-bind="'风控 | ' + $state.current.data.pageTitle"></title>

<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="" name="author"/>

<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link href="css/useso.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
<!-- END GLOBAL MANDATORY STYLES -->

<!-- 开始动态加载css文件(all plugin and page related styles must be loaded between GLOBAL and THEME css files ) -->
<link id="ng_load_plugins_before"/>
<!-- 结束动态加载css文件 -->

<!-- BEGIN THEME STYLES -->
<!-- DOC: To use 'rounded corners' style just load 'components-rounded.css' stylesheet instead of 'components.css' in the below style tag -->
<link href="assets/global/css/components.css" id="style_components" rel="stylesheet" type="text/css"/>
<link href="assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
<link href="assets/admin/layout/css/layout.css" rel="stylesheet" type="text/css"/>
<link href="assets/admin/layout/css/themes/default.css" rel="stylesheet" type="text/css" id="style_color"/><!--默认样式light2.css-->
<link href="assets/admin/layout/css/custom.css" rel="stylesheet" type="text/css"/>
<!-- END THEME STYLES -->

    <!--temp begin-->
    <!--temp end-->

<link rel="shortcut icon" href="favicon.ico"/>
</head>
<!-- END HEAD -->

<!-- BEGIN BODY -->
<!-- DOC: Apply "page-header-fixed-mobile" and "page-footer-fixed-mobile" class to body element to force fixed header or footer in mobile devices -->
<!-- DOC: Apply "page-sidebar-closed" class to the body and "page-sidebar-menu-closed" class to the sidebar menu element to hide the sidebar by default -->
<!-- DOC: Apply "page-sidebar-hide" class to the body to make the sidebar completely hidden on toggle -->
<!-- DOC: Apply "page-sidebar-closed-hide-logo" class to the body element to make the logo hidden on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-hide" class to body element to completely hide the sidebar on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-fixed" class to have fixed sidebar -->
<!-- DOC: Apply "page-footer-fixed" class to the body element to have fixed footer -->
<!-- DOC: Apply "page-sidebar-reversed" class to put the sidebar on the right side -->
<!-- DOC: Apply "page-full-width" class to the body element to have full width page without the sidebar menu -->
<body ng-controller="AppController" class="page-header-fixed page-sidebar-closed-hide-logo page-quick-sidebar-over-content page-on-load" ng-class="{'page-container-bg-solid': settings.layout.pageBodySolid, 'page-sidebar-closed': settings.layout.pageSidebarClosed}">

	<!-- BEGIN PAGE SPINNER -->
	<div ng-spinner-bar class="page-spinner-bar">
		<div class="bounce1"></div>
		<div class="bounce2"></div>
		<div class="bounce3"></div>
	</div>
	<!-- END PAGE SPINNER -->

	<!-- BEGIN HEADER -->
	<div data-ng-include="'tpl/header.html'" data-ng-controller="HeaderController" class="page-header navbar navbar-fixed-top">
	</div>
	<!-- END HEADER -->

	<div class="clearfix">
	</div>

	<!-- BEGIN CONTAINER -->
	<div class="page-container ">
		<!-- BEGIN SIDEBAR -->
		<div data-ng-include="'tpl/sidebar.html'" data-ng-controller="SidebarController" class="page-sidebar-wrapper">
		</div>
		<!-- END SIDEBAR -->

		<!-- BEGIN CONTENT -->
		<div class="page-content-wrapper">
		
			<div class="page-content" style="margin-top: -28px;min-height: 648px;height: auto;overflow: hidden;">

						
				<!-- BEGIN ACTUAL CONTENT -->
				<div ui-view class="fade-in-up">
				</div> 
				<!-- END ACTUAL CONTENT -->
			</div>	
		<!-- END CONTENT -->
		
		<!-- BEGIN QUICK SIDEBAR -->
		<a href="javascript:;" class="page-quick-sidebar-toggler"><i class="icon-close"></i></a>
		<div data-ng-include="'tpl/quick-sidebar.html'" data-ng-controller="QuickSidebarController" class="page-quick-sidebar-wrapper"></div>
		<!-- END QUICK SIDEBAR -->
	</div>
	<!-- END CONTAINER -->

	<!-- BEGIN FOOTER -->
	<div data-ng-include="'tpl/footer.html'" data-ng-controller="FooterController" class="page-footer">
	</div>
	<!-- END FOOTER -->

	<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->

	<!-- BEGIN CORE JQUERY PLUGINS -->
	<!--[if lt IE 9]>
	<script src="assets/global/plugins/respond.min.js"></script>
	<script src="assets/global/plugins/excanvas.min.js"></script> 
	<![endif]-->
	<script src="assets/global/plugins/jquery.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>	
	<script src="assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
	<link href="css/css.css" rel="stylesheet" type="text/css"/>
	<!-- END CORE JQUERY PLUGINS -->

	<!-- BEGIN CORE ANGULARJS PLUGINS -->
	<script src="assets/global/plugins/angularjs/angular.min.js" type="text/javascript"></script>	
	<script src="assets/global/plugins/angularjs/angular-sanitize.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/angularjs/angular-touch.min.js" type="text/javascript"></script>	
	<script src="assets/global/plugins/angularjs/plugins/angular-ui-router.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/angularjs/plugins/ocLazyLoad.min.js" type="text/javascript"></script>
	<script src="assets/global/plugins/angularjs/plugins/ui-bootstrap-tpls.min.js" type="text/javascript"></script>
	<!-- <script src="js/scripts/ui-bootstrap-tpls.js" type="text/javascript"></script> -->
	<!-- END CORE ANGULARJS PLUGINS -->
	
	<!-- BEGIN APP LEVEL ANGULARJS SCRIPTS -->
	<script src="js/app.js" type="text/javascript"></script>
	<script src="js/directives.js" type="text/javascript"></script>
	<!-- END APP LEVEL ANGULARJS SCRIPTS -->

	<!-- BEGIN APP LEVEL JQUERY SCRIPTS -->
	<script src="assets/global/scripts/metronic.js" type="text/javascript"></script>
	<script src="assets/admin/layout/scripts/layout.js" type="text/javascript"></script>
	<script src="assets/admin/layout/scripts/quick-sidebar.js" type="text/javascript"></script>
	<script src="assets/admin/layout/scripts/demo.js" type="text/javascript"></script>

    <script src="assets/admin/pages/scripts/components-dropdowns.js"></script>
	<!-- END APP LEVEL JQUERY SCRIPTS -->




    <!--begin temp -->
    <style type="text/css">
        .lanmo-warning{border-color:#ebccd1}
        .lanmo-error{color:#ebccd1}
        .lm_window_head{
            height: 25px;padding: 2px 8px 2px 8px;
        }
        .lm_window_head .p1{
            float: left;height: 20px;margin: 0 0
        }
        .lm_window_head .p2{
            float: right;height: 20px;;margin: 0 0
        }
        .lm_window_footer{
            height: 30px;padding: 2px 8px 2px 8px;
        }
    </style>
    <link href="assets/global/plugins/select2/select2.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/clockface/css/clockface.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-datepicker/css/datepicker3.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css"  rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-select/bootstrap-select.min.css"/>
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/jquery-multi-select/css/multi-select.css"/>
    <link href="assets/global/plugins/jquery-tags-input/jquery.tagsinput.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css"  rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/typeahead/typeahead.css"  rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-toastr/toastr.min.css"/>
    <link rel="stylesheet" type="text/css" href="customer/zTreeStyle.css"/>
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/angularjs/plugins/ui-select/select.min.css"/>
    <link rel="stylesheet" type="text/css" href="assets/admin/pages/css/todo.css"/>
    <link href="assets/admin/pages/css/timeline.css" rel="stylesheet" type="text/css"/>
	<link href="css/jquery.magnify.css" rel="stylesheet" type="text/css">

    <script src="js/scripts/echarts-all.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/scripts/jquery.magnify.js"></script>

    <script src="assets/global/plugins/select2/select2.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="assets/global/plugins/bootstrap-select/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="assets/global/plugins/jquery-multi-select/js/jquery.multi-select.js"></script>
    <script src="assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.js" type="text/javascript"></script>
    <script src="assets/global/plugins/clockface/js/clockface.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-daterangepicker/moment.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js" type="text/javascript"></script>
    <script src="assets/admin/pages/scripts/components-pickers.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/amcharts.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/serial.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/pie.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/radar.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/themes/light.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/themes/patterns.js" type="text/javascript"></script>
    <script src="assets/global/plugins/amcharts/amcharts/themes/chalk.js" type="text/javascript"></script>

    <!--uedtior 富文本-->
    <script type="text/javascript"  src="js/scripts/angular-ueditor.min.js"></script>
    <script type="text/javascript"  src="js/scripts/ueditor.config.js"></script>
    <script type="text/javascript"  src="js/scripts/ueditor.all.js"> </script>

    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="css/public.css" rel="stylesheet" type="text/css"/>
    <link href="css/index.css" rel="stylesheet" type="text/css"/>
    <link href="css/style.css" rel="stylesheet" type="text/css"/>

    <script src="assets/global/plugins/fuelux/js/spinner.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery.input-ip-address-control-1.0.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-pwstrength/pwstrength-bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery-tags-input/jquery.tagsinput.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-touchspin/bootstrap.touchspin.js" type="text/javascript"></script>
    <script src="assets/global/plugins/typeahead/handlebars.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/typeahead/typeahead.bundle.min.js" type="text/javascript"></script>
    <script src="assets/admin/pages/scripts/components-form-tools.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js" type="text/javascript"></script>
    <script src="assets/global/plugins/angularjs/plugins/ui-select/select.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/angularjs/plugins/angular-file-upload/angular-file-upload.min.js" type="text/javascript"></script>
	
	
	<script src="js/scripts/ng-flow-standalone.min.js" type="text/javascript"></script>

    <script src="js/services/user_service.js" type="text/javascript"></script>
    <script src="js/services/alert_service.js" type="text/javascript"></script>
    <script src="js/services/permission_service.js" type="text/javascript"></script>
    <script src="js/services/org_service.js" type="text/javascript"></script>

    <script src="js/controllers/user_controller.js" type="text/javascript"></script>
    <script src="js/controllers/permission_controller.js" type="text/javascript"></script>
    <script src="js/controllers/org_controller.js" type="text/javascript"></script>
    <script src="js/services/changliang_service.js" type="text/javascript"></script>
    <script src="js/services/changliangshu_service.js" type="text/javascript"></script>
    <script src="js/services/common_service.js" type="text/javascript"></script>
    <script src="js/services/filerecord_service.js" type="text/javascript"></script>


    <!---------service---------start-------------->
    <script src="js/services/processzhuti_service.js" type="text/javascript"></script>
            <!--审批-->
    <script src="js/services/todotask_service.js" type="text/javascript"></script>
    <script src="js/services/process_service.js" type="text/javascript"></script>
    <script src="js/services/payinfo_service.js" type="text/javascript"></script>
            <!--提示-->
    <script src="js/services/reminder_service.js" type="text/javascript"></script>
    <!-- 信审管理 -->
    <script src="js/services/order_service.js" type="text/javascript"></script>
    <!-- 政策管理 -->
    <script src="js/services/policy_service.js" type="text/javascript"></script>
    <!-- 渠道管理 -->
    <script src="js/services/seller_service.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/services/urge_detail_service.js"></script>
    <script type="text/javascript" src="js/services/operationlog_service.js"></script>
    <script type="text/javascript" src="js/services/return_visit_service.js"></script>
    
    <!---------service---------end-------------->
    <!---------controller---------start-------------->
    <script src="js/controllers/shenhe_maneger_controller.js" type="text/javascript"></script>
    <script src="js/controllers/processzhuti_controller.js" type="text/javascript"></script>
             <!--审批-->
    <script src="js/controllers/todotask_controller.js" type="text/javascript"></script>
            <!--提示-->
    <script src="js/controllers/reminder_controller.js" type="text/javascript"></script>
    <!---------controller---------end-------------->
    <script src="js/controllers/login_controller.js" type="text/javascript"></script>
    <script src="js/controllers/common_controller.js" type="text/javascript"></script>
    <script src="js/controllers/changliang_controller.js" type="text/javascript"></script>
    <script src="js/controllers/filerecord_controller.js" type="text/javascript"></script>
           <!-- 信审管理 -->
    <script src="js/controllers/order_controller.js" type="text/javascript"></script>
    <script src="js/controllers/firsttrial_controller.js" type="text/javascript"></script>
    <script src="js/controllers/order_controller_1.js" type="text/javascript"></script>
    <!-- 政策管理 -->
    <script src="js/controllers/policy_controller.js" type="text/javascript"></script>
    <!-- 渠道管理 -->
    <script src="js/controllers/seller_controller.js" type="text/javascript"></script>
    <script src="js/controllers/payinfo_controller.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/controllers/operationlog_controller.js"></script>
    <script type="text/javascript" src="js/controllers/return_visit_controller.js"></script>
    <!-- start server and controller-->
    <!-- end server and controller-->



    <script src="assets/global/plugins/bootstrap-toastr/toastr.min.js"></script>
    <script src="customer/jquery.ztree.all-3.5.min.js"></script>

    <!--end temp-->
    <script type="text/javascript">
    /* Init Metronic's core jquery plugins and layout scripts */
    $(document).ready(function() {
        Metronic.init(); // Run metronic theme
        Metronic.setAssetsPath('assets/'); // Set the assets folder path
    });
    toastr.options = {
        "closeButton": true,
        "debug": false,
        "positionClass": "toast-top-right",
        "onclick": null,
        "showDuration": "1000",
        "hideDuration": "1000",
        "timeOut": "3000",
        "extendedTimeOut": "1000",
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }
    function initUploadFiles(files,res){
        for (var i in files) {
            var file = files[i];
            var r = {"uniqueIdentifier": file.uniqueIdentifier,"flowFilename":file.name};
            res.push(r);
        }
    }
    //  http://www.bootcss.com/p/font-awesome/#   图标库
    function initController($scope, thisobj, thisobjName, thisobj_service, filterFilter) {
        thisobj.checkAll = function (headcheck) {
        	//alert(headcheck);
            if (!headcheck) {
            	
                if (thisobj.dataList != undefined) {
                    for (var i = 0; i < thisobj.dataList.length; i++) {
                    	
                        thisobj.dataList[i].checked = true;
                    }
                }
            } else {
                if (thisobj.dataList != undefined) {
                    for (var i = 0;i<thisobj.dataList.length; i++) {
                    	
                        if( thisobj.dataList[i]!=undefined){
                            thisobj.dataList[i].checked = false;
                        }
                    }
                }

            }
        }
        thisobj.getSelectItems = function () {
            var res = filterFilter(thisobj.dataList, function (record) {
                return record.checked;
            });
            return res;
        }
        //end-
        //begin-初始化第一次进入页面的全局变量，包括：搜索表单，初始查询,grid初始化,翻页初始化
        thisobj.searchForm = {"page": {"currentPage": 1}, "orderGuize": "", "searchItems": {}};
        $scope.$watch(thisobjName + '.searchForm.page.currentPage+' + thisobjName + '.searchForm.page.itemsperpage', pageChange);
        function pageChange(newValue, oldValue, scope) {
            if (newValue == oldValue) {
                return false;
            }
            if (thisobj.searchForm.page!=undefined&&thisobj.searchForm.page.currentPage < 1) {
                thisobj.searchForm.page.currentPage = 1;
                return false;
            }

            if (thisobj.searchForm.page!=undefined&&thisobj.searchForm.page.currentPage > thisobj.searchForm.page.totalPages) {
                thisobj.searchForm.page.currentPage = thisobj.searchForm.page.totalPages;
                return false;
            }
            thisobj.searchN();
        }

        thisobj.firstPage = function () {
            thisobj.searchForm.page.currentPage = 1;
        }
        thisobj.lastPage = function () {
            thisobj.searchForm.page.currentPage = thisobj.searchForm.page.totalPages;
        }
        thisobj.nextPage = function () {
            thisobj.searchForm.page.currentPage = thisobj.searchForm.page.currentPage + 1;
        }
        thisobj.prePage = function () {
            thisobj.searchForm.page.currentPage = thisobj.searchForm.page.currentPage - 1;
        }

        //end-
        //功能开始的地方
        thisobj.reset=function(){
            thisobj.searchForm.searchItems={}
        }
        thisobj.search1 = function search1() {//查询第一页
            if(thisobj.searchForm.page==undefined){
                thisobj.searchForm.page={}
            }
            thisobj.searchForm.page.currentPage = 1;
            thisobj.searchN();
        }
        thisobj.searchCurrent = function (currentPage) {//查询指定页
            thisobj.searchForm.page.currentPage = currentPage;
            thisobj.searchN();
        }
        thisobj.searchN = function search() {//查询第N页
            var pageData = thisobj_service.query(thisobj.searchForm);
            pageData.then(function (data) {  // 调用承诺API获取数据 .resolve
               // console.info();
                thisobj.searchForm.page = data.page;
                thisobj.dataList = data.list;
            }, function (data) {  // 处理错误 .reject

            });
        }
        thisobj.daochu = function daochu() {//导出
            thisobj.daochuflag=true;
            thisobj.daochuflag2=false;
            toastr['success']("您正在导出，请耐心等待！", "提示！")
            thisobj.searchForm.daochuflag=1;
            var pageData = thisobj_service.query(thisobj.searchForm);
            pageData.then(function (data) {  // 调用承诺API获取数据 .resolve
                thisobj.searchForm.daochuflag=0;
                thisobj.daochuflag=false;
                thisobj.daochuflag2=true;
                thisobj.daochures=data;
                toastr['success']("请点击连接下载！", "导出成功！")
            }, function (data) {  // 处理错误 .reject

            });
        }

        thisobj.deleteData = function (data) {
            var selectedItems = [];
            selectedItems.push(data);
            var res = confirm("删除是不可恢复的，你确认要删除吗？");
            if (res) {
                var promise = thisobj_service.delete(selectedItems);
                promise.then(function (data) {
                    toastr['success']("您的信息已删除成功！", "恭喜您！")
                    thisobj.searchN();

                });
            }
        }

        thisobj.delete = function () {
            var selectedItems = thisobj.getSelectItems();
            console.info(selectedItems.length);
            if (selectedItems.length < 1) {
                alert('请选择要删除的记录');
                return false;
            }
            var res = confirm("删除是不可恢复的，你确认要删除吗？");
            if (res) {
                var promise = thisobj_service.delete(selectedItems);
                promise.then(function (data) {
                    toastr['success']("您的信息已删除成功！", "恭喜您！")
                    thisobj.searchN();

                });
            }
        }
        thisobj.back = function () {
            window.history.back()
        }
    }

    function openwindow($modal, url, size, ctl) {
        var modalInstance = $modal.open({
            templateUrl: url,
            controller: ctl,
            size: size,
            backdrop: false

        });
        return modalInstance;
    }
    //保留两位小数
    //功能：将浮点数四舍五入，取小数点后2位
    function toDecimal(x) {
        var f = parseFloat(x);
        if (isNaN(f)) {
            return 0;
        }
        f = Math.round(x * 100) / 100;
        return f;
    }
    function initZtree(treeid,nodes,clickcallback,ischeck,checkboxtype){
        var setting = {
            view: {
                dblClickExpand: false,
                showLine: true,
                selectedMulti: false
            },
            data: {
                simpleData: {
                    enable:true,
                    idKey: "id",
                    pIdKey: "pid",
                    rootPId: ""
                }
            },

            callback: {
                onClick:clickcallback
            }

        };
        if(ischeck){
            setting.check={}
            setting.check.chkboxType = { "Y" : "ps", "N" : "s" };
            if(checkboxtype!=undefined){
                setting.check.chkboxType = checkboxtype;
            }
            setting.check.enable=true;
            setting.check.chkStyle="checkbox";
        }
        return $.fn.zTree.init($("#"+treeid), setting, nodes);


    }
    function isNull(d){
        if(d==undefined||d==''||d=='null'||d=='NULL'){
            return true
        }
        return false
    }
    //保留两位小数
    //功能：将浮点数四舍五入，取小数点后2位
    function toDecimal(x) {
        var f = parseFloat(x);
        if (isNaN(f)) {
            return;
        }
        f = Math.round(x * 100) / 100;
        return f;
    }
    function daysBetween(DateOne,DateTwo)
    {
        if(isNull(DateOne)||isNull(DateTwo)){
            return -1;
        }
        var OneMonth = DateOne.substring(5,DateOne.lastIndexOf ('-'));
        var OneDay = DateOne.substring(DateOne.length,DateOne.lastIndexOf ('-')+1);
        var OneYear = DateOne.substring(0,DateOne.indexOf ('-'));

        var TwoMonth = DateTwo.substring(5,DateTwo.lastIndexOf ('-'));
        var TwoDay = DateTwo.substring(DateTwo.length,DateTwo.lastIndexOf ('-')+1);
        var TwoYear = DateTwo.substring(0,DateTwo.indexOf ('-'));

        var cha=((Date.parse(OneMonth+'/'+OneDay+'/'+OneYear)- Date.parse(TwoMonth+'/'+TwoDay+'/'+TwoYear))/86400000);
        return Math.abs(cha);
    }
    </script>


</body>
<!-- END BODY -->
</html>